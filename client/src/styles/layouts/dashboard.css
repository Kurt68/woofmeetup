/*-------- Dashboard --------*/

/* Mobile & Tablet: Full width single column */
@media only screen and (max-width: 1023px) {
  .dashboard {
    display: grid;
    grid-template-columns: 1fr;
    width: 100%;
    height: auto;
    min-height: 100dvh;
    /* padding: 0 var(--spacing-md); */
  }
}

/* Desktop: Two column responsive grid */
@media only screen and (min-width: 1024px) {
  .home h1 {
    display: block;
  }
  nav .logo-container img {
    width: 450px;
  }

  .dashboard {
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    width: 100%;
    height: auto;
    min-height: 100dvh;
  }

  .instructions {
    padding: 0 var(--spacing-xl);
  }

  .image-identification {
    padding: 1rem;
  }
}

/* Ultra-wide screens: Maintain max-width */
@media only screen and (min-width: 1920px) {
  .dashboard {
    grid-template-columns: 0.8fr 1.5fr;
    max-width: 1600px;
  }
}
.dashboard .swipe-container {
  padding-top: 2.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  background-color: var(--color-secondary);
  overflow: auto;
  height: auto;
  min-height: 100%;
  width: 100%;
}

/* Hide scrollbars when polaroid-container is empty */
.dashboard .swipe-container:has(.polaroid-container:empty) {
  overflow: hidden;
}

/* Mobile & Tablet: Full screen swipe container */
@media only screen and (max-width: 1023px) {
  .dashboard .swipe-container {
    min-height: 100dvh;
    height: auto;
  }
}

/* Desktop: Scrollable swipe container within grid */
@media only screen and (min-width: 1024px) {
  .dashboard .swipe-container {
    height: 100dvh;
    max-height: 100dvh;
    overflow-y: auto;
  }
}

.account-settings {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--spacing-button-h);
  flex-wrap: wrap;
  font-weight: 500;
  position: absolute;
  left: 0;
  right: 0;
  top: 4.5rem;
}
.account-settings p {
  margin: 0 3rem 1rem 3rem;
}
.account-settings a {
  color: var(--color-white);
  line-height: 0;
}
.account-settings .delete-button {
  padding: 1.7rem 1.7rem 1.7rem 1.7rem;
}
.account-settings .delete {
  z-index: 1;
  top: 4rem;
  max-width: 600px;
}

.account-settings .delete h2 {
  color: var(--color-black);
  margin: 0 0 1rem 0;
  font-size: 1.5rem;
}

.account-settings .delete > p {
  margin: 0 0 1.5rem 0;
  font-size: 1rem;
  color: var(--color-text-dark);
}

.account-settings .delete .deletion-policy {
  background-color: var(--color-pink-light);
  border: 1px solid var(--color-pink-border);
  border-radius: var(--radius-sm);
  padding: 1rem 1.5rem;
  margin: 0 0 1.5rem 0;
  text-align: left;
}

.account-settings .delete .deletion-policy h3 {
  color: var(--color-black);
  margin: 0 0 0.75rem 0;
  font-size: 1.1rem;
}

.account-settings .delete .deletion-policy ol {
  margin: 0;
  padding-left: 1.5rem;
  color: var(--color-text-dark);
}

.account-settings .delete .deletion-policy li {
  margin-bottom: 0.5rem;
  line-height: 1.4;
  font-size: 0.9rem;
}

.account-settings .delete .deletion-policy li:last-child {
  margin-bottom: 0;
}
main {
  background-color: var(--color-white);
  opacity: 0.93;
  border-radius: var(--radius-md);
}
summary {
  font-size: var(--font-size-md);
}

.account-settings .nav-button {
  display: none;
}

.profile-visibility-toggle {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  color: var(--color-white);
  cursor: pointer;
  user-select: none;
  font-weight: 500;

  & input[type='checkbox'] {
    width: 18px;
    height: 18px;
    cursor: pointer;
    accent-color: var(--color-primary);

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  & span {
    line-height: 1;
  }

  &:hover input:not(:disabled) {
    opacity: 0.8;
  }
}

.account-settings-link {
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="25" height="20" viewBox="0 0 171.069 145.311"><g transform="matrix(0.914, 0.407, -0.407, 0.914, 38.397, 0)"><path d="M15.908,37.471c8.685-11.5,14.93-17.632,19.432-19.461a47.557,47.557,0,0,1,75.929,1.859,21.859,21.859,0,0,1,5.693,4.154,80.5,80.5,0,0,1,12.345,13.449c13.071,17.283,19.345,34.537,14.03,38.516-4.27,3.2-14.727-3.137-25.445-14.7a47.519,47.519,0,0,1-90.51.174C16.4,73.576,6.206,79.211,1.907,75.987-3.437,72.007,2.837,54.754,15.908,37.471Zm56.7,53.185a43.692,43.692,0,0,0,42.321-32.707c-.465-.523-.93-1.075-1.365-1.627-9.324,6.245-25.968,6.419-33.143-2.353-9.324-11.415-.9-25.1,8.482-32.126a21.144,21.144,0,0,1,15.86-4.008,43.787,43.787,0,0,0-64.484.145,4.779,4.779,0,0,1,.639.407c5.345,3.95-.959,26.956-5.809,33.52-1.627,2.208-3.253,4.27-4.851,6.187A43.823,43.823,0,0,0,72.608,90.656Zm24.283-48.1A6.594,6.594,0,1,0,90.3,49.118,6.583,6.583,0,0,0,96.891,42.554Z" transform="translate(0)" fill="%23fff"/><ellipse cx="1.888" cy="1.859" rx="1.888" ry="1.859" transform="translate(90.297 38.516)" fill="%23fff"/><path d="M6.594,0A6.565,6.565,0,1,1,0,6.565,6.583,6.583,0,0,1,6.594,0ZM8.075,6.245A1.859,1.859,0,1,0,6.187,4.386,1.917,1.917,0,0,0,8.075,6.245Z" transform="translate(48.324 35.989)" fill="%23fff"/><path d="M3.1,13.377a5.865,5.865,0,0,0,9.789-4.1V9.252C10.858,8.061,7.866,5.883,7.866,3.385c0-3.805,2.963-3.369,6.8-3.369,3.805,0,7.029-.436,7.029,3.369,0,2.5-2.992,4.677-5.025,5.867h0a5.832,5.832,0,0,0,5.838,5.606,6.038,6.038,0,0,0,3.95-1.51,1.914,1.914,0,0,1,2.672.116,1.878,1.878,0,0,1-.116,2.643,9.521,9.521,0,0,1-6.477,2.5,9.628,9.628,0,0,1-7.726-3.863A9.653,9.653,0,0,1,.6,16.107a1.878,1.878,0,0,1-.116-2.643A1.841,1.841,0,0,1,3.1,13.377Z" transform="translate(57.857 61.768)" fill="%23fff"/></g></svg>');
  background-position: left;
  background-repeat: no-repeat;
  color: var(--color-white);
  font-size: var(--font-size-md);
  text-decoration: none;
  position: absolute;
  right: var(--spacing-sm);
  top: var(--spacing-sm);
}

/* Override account-settings-link styles when used in header dropdown menu */
.header-dropdown-menu .account-settings-link {
  position: static;
  background-image: none;
  /* padding: 16px 24px; */
  color: var(--color-black);
  right: auto;
  top: auto;
}
/* External Script Modal Overlay */
.external-script-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: flex-start;
  z-index: 1002;
  padding: 0.625rem;
  height: 100dvh;

  @media screen and (min-width: 768px) {
    align-items: center;
    justify-content: center;
    padding: 0 9rem 0 9rem;
  }
}

/* External Script Modal Container */
.external-script-modal {
  position: relative;
  width: 100%;
  background-color: var(--color-white);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-modal);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: calc(100dvh - 1.25rem);
  max-height: calc(100dvh - 1.25rem);

  @media screen and (min-width: 768px) {
    height: auto;
    max-height: 70vh;
    min-height: 70vh;
    border-radius: var(--radius-md);
  }
}

/* External Script Modal Header */
.external-script-modal-header {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: var(--spacing-md);
  border-bottom: 1px solid var(--color-gray-divider);
  border-radius: var(--radius-md) var(--radius-md) 0 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  flex-shrink: 0;
  position: relative;
}

.external-script-modal-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-bold);
  color: var(--color-text-dark);
  margin: 0;
  visibility: hidden;
}

.external-script-close-icon {
  position: absolute;
  right: var(--spacing-md);
  background: none;
  border: none;
  cursor: pointer;
  color: var(--color-primary);
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-xs);
  transition: color var(--transition-fast);
  font-size: 1.7rem;
  font-weight: bolder;

  &:hover {
    color: var(--color-secondary);
  }
}

/* External Script Modal Scroll Content */
.external-script-modal-scroll {
  flex: 1;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--color-primary) var(--color-white);
  display: flex;
  flex-direction: column;

  @media screen and (min-width: 768px) {
    padding: var(--spacing-2xl);
  }

  & main {
    margin-top: -3rem !important;
  }

  & [ez-policy] {
    margin-top: -3rem !important;
  }

  & .script-loading {
    padding: 2rem;
    text-align: center;
    color: var(--color-text-dark);

    & p {
      margin: 0;
      font-size: var(--font-size-sm);
      animation: pulse 1.5s ease-in-out infinite;
    }
  }

  & .script-error {
    background-color: var(--color-pink-light);
    border: 1px solid var(--color-pink-border);
    border-radius: var(--radius-sm);
    padding: 1rem;
    margin-bottom: 1rem;

    & p {
      margin: 0 0 1rem 0;
      color: var(--color-text-dark);
      font-size: var(--font-size-sm);
    }

    & button {
      margin: 0;
    }
  }
}

/* External Script Modal Footer */
.external-script-modal-footer {
  flex-shrink: 0;
  border-top: 1px solid var(--color-gray-divider);
  background-color: var(--color-white);
  border-radius: 0 0 var(--radius-md) var(--radius-md);
  height: 60px;
  box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.04);
}

@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

.privacy-policy ul,
.terms-conditions ul {
  padding-left: 1rem;
  list-style-type: none;
  word-wrap: break-word;
}
.privacy-policy,
.terms-conditions {
  text-align: left;
  padding: var(--spacing-md-lg);
}

@media screen and (min-width: 1024px) {
  .privacy-policy,
  .terms-conditions {
    text-align: left;
    padding: 0 20%;
  }
}
.swipe {
  position: absolute;
  left: 0;
  right: 0;
  top: 3rem;
}

.profile-visibility-banner {
  position: absolute;
  top: 80px;
  left: var(--spacing-md-lg);
  right: var(--spacing-md-lg);
  margin-left: auto;
  margin-right: auto;
  max-width: 360px;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--spacing-md);
  padding: var(--spacing-md-lg);
  background-color: var(--color-white);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-modal);
  animation: slideDown 0.3s ease-out;
  z-index: 10;

  @media screen and (min-width: 1024px) {
    max-width: 500px;
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.banner-content {
  flex: 1;
  min-width: 0;
}

.banner-content p {
  margin: 0;
  font-size: var(--font-size-sm);
  line-height: 1.5;
  color: var(--color-text-primary);
}

.banner-content strong {
  color: var(--color-accent);
  font-weight: 600;
}

.banner-close-button {
  flex-shrink: 0;
  background: none;
  border: none;
  font-size: var(--font-size-lg);
  color: var(--color-text-secondary);
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-sm);
  transition: all 0.2s ease;
}

.banner-close-button:hover {
  background-color: rgba(0, 0, 0, 0.05);
  color: var(--color-text-primary);
}

.banner-close-button:active {
  background-color: rgba(0, 0, 0, 0.1);
}
